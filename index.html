<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="World Puzzle Battle - Challenge yourself with daily image puzzles! Compete globally, improve your brain power, and rank up with our unique scoring system. Play for free now.">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://worldpuzzlebattle.com/">
    <meta property="og:title" content="World Puzzle Battle - Daily Image Puzzle Challenge">
    <meta property="og:description" content="Compete globally in World Puzzle Battle! Solve daily puzzles, rank up on the leaderboard, and train your brain.">
    <meta property="og:image" content="https://picsum.photos/1200/630?grayscale"> <!-- Placeholder image -->

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://worldpuzzlebattle.com/">
    <meta property="twitter:title" content="World Puzzle Battle - Daily Image Puzzle Challenge">
    <meta property="twitter:description" content="Compete globally in World Puzzle Battle! Solve daily puzzles, rank up on the leaderboard, and train your brain.">
    <meta property="twitter:image" content="https://picsum.photos/1200/630?grayscale">

    <title>World Puzzle Battle</title>
    <meta name="google-adsense-account" content="ca-pub-4253911322239903">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4253911322239903"
     crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="notice-bar">
        <span class="notice-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="red">
                <path d="M12,8H4A2,2 0 0,0 2,10V14A2,2 0 0,0 4,16H5V20A1,1 0 0,0 6,21H8A1,1 0 0,0 9,20V16H12L17,20V4L12,8M21.5,12C21.5,13.71 20.54,15.26 19,16V8C20.53,8.74 21.5,10.28 21.5,12Z" />
            </svg>
        </span>
        <span class="notice-text">Welcome to the Puzzle Challenge! 1ë“± ë‘ì«€ì¿ (16ì¼ ê¸ˆ 13ì‹œ ê¸°ì¤€)!</span>
    </div>
    <header>
        <h1>World Puzzle Battle</h1>
        <!-- AdSlot: Top Banner -->
        <div class="ad-container ad-top">
            <span class="ad-placeholder">Advertisement</span>
            <!-- 
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-4253911322239903"
                 data-ad-slot="YOUR_AD_SLOT_ID_HERE"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
            -->
        </div>
    </header>
    
    <main>
        <div class="controls">
            <label for="difficulty-selector">Difficulty: </label>
            <select id="difficulty-selector">
                <option value="4" selected>Easy (4x4 - 16pcs)</option>
                <option value="6">Normal (6x6 - 36pcs)</option>
                <option value="8">Hard (8x8 - 64pcs)</option>
            </select>
        </div>

        <div class="image-controls">
            <button id="today-image-btn" class="primary-btn">ğŸ“… Today's Challenge</button>
            <button id="random-image-btn" class="secondary-btn">ğŸ² Random Image</button>
        </div>
        
        <div id="timer">Time: 0.0s</div>
        
        <aside id="sidebar-wrapper">
            <div id="rank-guide">
                <h4>ğŸ† Ranking Rules</h4>
                <ul>
                    <li>1. <b>Score System</b> based</li>
                    <li>2. <b>High Difficulty</b> = More Pts</li>
                    <li>3. <b>Today's</b> = +50% Bonus</li>
                    <li>4. <b>Faster Time</b> = More Pts</li>
                    <li class="expiration">Records expire: 24h<br>(Normal: 3d, Hard: 5d)</li>
                </ul>
            </div>
            <div id="leaderboard">
                <h3>Top 3 Records</h3>
                <ul id="leaderboard-list">
                    <!-- Records will be injected here -->
                </ul>
            </div>
            <button id="main-share-btn" class="leaderboard-share-btn">ğŸ”— Share Game</button>
            <a href="#" id="partnership-link" style="display:block; text-align: center; font-size: 0.8rem; color: #666; text-decoration: none; margin-top: 10px; font-weight: bold;">ğŸ¤ ì œíœ´ ë¬¸ì˜</a>
            
            <!-- AdSlot: Sidebar -->
            <div class="ad-container ad-sidebar">
                <span class="ad-placeholder" style="font-size: 0.8rem;">Ad</span>
            </div>
        </aside>

        <div id="game-area">
            <div id="original-image-container" style="display: none;">
                <img id="original-image" src="" alt="Original">
            </div>
            <button id="toggle-ref-btn" style="display: none;">ğŸ‘ï¸ View Ref</button>
            <div id="puzzle-container"></div>
        </div>
        <button id="start-button" style="display: none;">Start Puzzle</button> <!-- Hidden initially, shown after image load -->
    </main>
    
    <div id="cookie-consent-banner" style="display: none; position: fixed; bottom: 0; left: 0; width: 100%; background-color: #333; color: white; padding: 15px; text-align: center; z-index: 9999; box-shadow: 0 -2px 10px rgba(0,0,0,0.2);">
        <p style="margin: 0 0 10px 0; font-size: 0.9rem; line-height: 1.4;">
            We use cookies to personalize content and ads, to provide social media features and to analyze our traffic. 
            We also share information about your use of our site with our social media, advertising and analytics partners.
            <a href="privacy.html" style="color: #4da3ff; text-decoration: underline;">Learn more</a>
        </p>
        <button id="accept-cookies-btn" style="background-color: #28a745; color: white; border: none; padding: 8px 20px; border-radius: 4px; cursor: pointer; font-weight: bold;">Accept</button>
    </div>
    
    <!-- Game Info Section for High Quality Content -->
    <article id="game-info-section" style="max-width: 800px; margin: 40px auto; padding: 20px; background-color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); text-align: left; color: #444;">
        <h2 style="color: #333; border-bottom: 2px solid #eee; padding-bottom: 10px;">About World Puzzle Battle</h2>
        <p>
            <strong>World Puzzle Battle</strong> is a premier global platform where puzzle enthusiasts compete in speed, accuracy, and cognitive agility. 
            Unlike traditional static jigsaw puzzles, our dynamic slide-and-swap mechanism tests your visual memory and reflexes in real-time.
            Every day, a new "Today's Challenge" image is released worldwide, ensuring a level playing field for all participants.
        </p>

        <!-- AdSlot: In-Content -->
        <div class="ad-container ad-content" style="margin: 20px 0; text-align: center;">
             <span class="ad-placeholder">Advertisement</span>
        </div>

        <h3 style="margin-top: 20px; color: #555;">ğŸ® Comprehensive Gameplay Guide & Scoring</h3>
        <p>
            Mastering World Puzzle Battle requires more than just clicking. It requires strategy.
            Select your difficulty level and click on puzzle pieces to swap them. 
            Your goal is to restore the original image as quickly as possible.
        </p>
        <ul style="line-height: 1.6;">
            <li><strong>Difficulty Multipliers:</strong> We reward ambition. Playing on <strong>Hard (8x8)</strong> grants significantly more points (15x multiplier) than Easy mode. High risk, high reward.</li>
            <li><strong>Today's Challenge:</strong> Participating in the daily event gives you a <strong>+50% Score Bonus</strong>. This is the most effective way to climb the global leaderboard.</li>
            <li><strong>Speed Matters:</strong> The faster you complete the puzzle, the higher your base score. Every millisecond counts.</li>
        </ul>

        <h3 style="margin-top: 20px; color: #555;">ğŸ’¡ Advanced Strategies for Speed Solving</h3>
        <p>
            To reach the top of the leaderboard, consider these techniques used by top players:
        </p>
        <ol style="line-height: 1.6;">
            <li><strong>Edge First:</strong> Just like physical puzzles, identifying and placing the border pieces first can provide a framework for the rest of the image.</li>
            <li><strong>Color Clustering:</strong> Group pieces by dominant colors visually before you start swapping. This reduces the search time for matching pieces.</li>
            <li><strong>Focus on Unique Features:</strong> Identify high-contrast areas (eyes in a portrait, text in a sign) and place them early to anchor the rest of the puzzle.</li>
            <li><strong>Memorize the Ref:</strong> Use the "View Ref" button sparingly. Top players memorize the original image before starting the timer to minimize downtime.</li>
        </ol>

        <h3 style="margin-top: 20px; color: #555;">ğŸ§  The Science: Cognitive Benefits of Puzzle Solving</h3>
        <p>
            Engaging in daily puzzle solving is not just entertainment; it is a rigorous workout for your brain. 
            Neuroscientific studies suggest that visual puzzles can significantly improve:
        </p>
        <ul style="line-height: 1.6;">
            <li><strong>Short-term Memory:</strong> Holding visual shapes and colors in your mind reinforces memory connections.</li>
            <li><strong>Problem-Solving Skills:</strong> Determining the logic of piece placement enhances critical thinking.</li>
            <li><strong>Visual-Spatial Reasoning:</strong> improved ability to perceive relationships between objects in space.</li>
            <li><strong>Dopamine Production:</strong> The satisfaction of placing a piece correctly releases dopamine, improving mood and concentration.</li>
        </ul>
        <p>
            Take a break from your busy schedule and refresh your mind with a quick game. Join the World Puzzle Battle community today and track your cognitive progress!
        </p>
    </article>

    <footer style="margin-top: 30px; padding: 20px; color: #666; font-size: 0.9rem; text-align: center;">
        <p>&copy; 2026 World Puzzle Battle. All rights reserved.</p>
        <p>
            <a href="privacy.html" style="color: #666; text-decoration: none; margin: 0 10px;">Privacy Policy</a> | 
            <a href="terms.html" style="color: #666; text-decoration: none; margin: 0 10px;">Terms of Service</a>
        </p>
    </footer>

    <!-- Partnership Modal -->
    <div id="partnership-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>ğŸ¤ ì œíœ´ ë¬¸ì˜</h3>
            <form action="https://formspree.io/f/mkoongyj" method="POST">
                <div style="display: flex; flex-direction: column; gap: 10px; text-align: left;">
                    <label style="font-size: 0.9rem;">ì„±í•¨/ê¸°ì—…ëª…</label>
                    <input type="text" name="name" required placeholder="í™ê¸¸ë™" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                    
                    <label style="font-size: 0.9rem;">íšŒì‹  ì´ë©”ì¼</label>
                    <input type="email" name="_replyto" required placeholder="example@email.com" style="padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                    
                    <label style="font-size: 0.9rem;">ë¬¸ì˜ ë‚´ìš©</label>
                    <textarea name="message" required rows="5" placeholder="ì œíœ´ ì œì•ˆ ë‚´ìš©ì„ ì ì–´ì£¼ì„¸ìš”." style="padding: 8px; border: 1px solid #ccc; border-radius: 4px; resize: none;"></textarea>
                </div>
                <div class="modal-buttons" style="margin-top: 20px;">
                    <button type="submit" style="background-color: #28a745;">ë¬¸ì˜ ë³´ë‚´ê¸°</button>
                    <button type="button" id="close-partnership-btn" style="background-color: #888;">ì·¨ì†Œ</button>
                </div>
            </form>
        </div>
    </div>

    <div id="success-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>ì„±ê³µ! ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
            <p id="success-time"></p>
            <p>í¼ì¦ì„ ì™„ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.</p>
            <div style="display: flex; gap: 5px; margin-bottom: 5px;">
                <select id="success-country" style="width: 80px; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                    <option value="ğŸ‡°ğŸ‡·">ğŸ‡°ğŸ‡·</option>
                    <option value="ğŸ‡ºğŸ‡¸">ğŸ‡ºğŸ‡¸</option>
                    <option value="ğŸ‡¯ğŸ‡µ">ğŸ‡¯ğŸ‡µ</option>
                    <option value="ğŸ‡¨ğŸ‡³">ğŸ‡¨ğŸ‡³</option>
                    <option value="ğŸ‡¬ğŸ‡§">ğŸ‡¬ğŸ‡§</option>
                    <option value="ğŸ‡«ğŸ‡·">ğŸ‡«ğŸ‡·</option>
                    <option value="ğŸ‡©ğŸ‡ª">ğŸ‡©ğŸ‡ª</option>
                    <option value="ğŸ‡®ğŸ‡¹">ğŸ‡®ğŸ‡¹</option>
                    <option value="ğŸ‡ªğŸ‡¸">ğŸ‡ªğŸ‡¸</option>
                    <option value="ğŸ‡¨ğŸ‡¦">ğŸ‡¨ğŸ‡¦</option>
                    <option value="ğŸ‡§ğŸ‡·">ğŸ‡§ğŸ‡·</option>
                    <option value="ğŸ‡¦ğŸ‡·">ğŸ‡¦ğŸ‡·</option>
                    <option value="ğŸ‡¦ğŸ‡º">ğŸ‡¦ğŸ‡º</option>
                    <option value="ğŸ‡®ğŸ‡³">ğŸ‡®ğŸ‡³</option>
                    <option value="ğŸ‡»ğŸ‡³">ğŸ‡»ğŸ‡³</option>
                    <option value="ğŸ‡¹ğŸ‡­">ğŸ‡¹ğŸ‡­</option>
                    <option value="ğŸ‡®ğŸ‡©">ğŸ‡®ğŸ‡©</option>
                    <option value="ğŸ‡·ğŸ‡º">ğŸ‡·ğŸ‡º</option>
                    <option value="ğŸ‡ºğŸ‡¦">ğŸ‡ºğŸ‡¦</option>
                    <option value="ğŸ‡¹ğŸ‡·">ğŸ‡¹ğŸ‡·</option>
                    <option value="ğŸ‡¸ğŸ‡¦">ğŸ‡¸ğŸ‡¦</option>
                    <option value="ğŸ‡¿ğŸ‡¦">ğŸ‡¿ğŸ‡¦</option>
                    <option value="ğŸ‡ªğŸ‡¬">ğŸ‡ªğŸ‡¬</option>
                    <option value="ğŸŒ">ğŸŒ</option>
                </select>
                <input type="text" id="success-nickname" placeholder="ë‹‰ë„¤ì„ (5ì ì´ë‚´)" maxlength="5" style="flex-grow: 1;">
            </div>
            <textarea id="success-thoughts" placeholder="ì„±ê³µ ì†Œê°ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (20ì ì´ë‚´)..." rows="4" maxlength="20"></textarea>
            <div class="modal-buttons">
                <button id="save-record-btn">ê¸°ë¡ ì €ì¥ & ë‹«ê¸°</button>
                <button id="share-btn" style="background-color: #007bff;">ê³µìœ í•˜ê¸°</button>
                <button id="close-modal-btn" style="background-color: #888;">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>