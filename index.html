<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Puzzle Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Image Puzzle Game</h1>
    
    <div class="controls">
        <label for="difficulty-selector">Difficulty: </label>
        <select id="difficulty-selector">
            <option value="4" selected>Easy (4x4 - 16pcs)</option>
            <option value="6">Normal (6x6 - 36pcs)</option>
            <option value="8">Hard (8x8 - 64pcs)</option>
        </select>
    </div>

    <div class="image-controls">
        <button id="today-image-btn" class="primary-btn">ğŸ“… Today's Challenge</button>
        <button id="random-image-btn" class="secondary-btn">ğŸ² Random Image</button>
    </div>
    
    <div id="timer">Time: 0.0s</div>
    
    <div id="sidebar-wrapper">
        <div id="rank-guide">
            <h4>ğŸ† Ranking Rules</h4>
            <ul>
                <li>1. <b>Today's Challenge</b> first</li>
                <li>2. <b>Higher Difficulty</b> next</li>
                <li>3. <b>Fastest Time</b> wins</li>
                <li class="expiration">Records expire in 24h<br>(Hard mode: 5 days)</li>
            </ul>
        </div>
        <div id="leaderboard">
            <h3>Top 5 Records</h3>
            <ul id="leaderboard-list">
                <!-- Records will be injected here -->
            </ul>
        </div>
        <button id="main-share-btn" class="leaderboard-share-btn">ğŸ”— Share Game</button>
    </div>

    <div id="game-area">
        <div id="original-image-container" style="display: none;">
            <img id="original-image" src="" alt="Original">
        </div>
        <div id="puzzle-container"></div>
    </div>
    <button id="start-button" style="display: none;">Start Puzzle</button> <!-- Hidden initially, shown after image load -->
    
    <div id="success-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>ì„±ê³µ! ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
            <p id="success-time"></p>
            <p>í¼ì¦ì„ ì™„ì„±í•˜ì…¨ìŠµë‹ˆë‹¤.</p>
            <div style="display: flex; gap: 5px; margin-bottom: 5px;">
                <select id="success-country" style="width: 80px; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                    <option value="ğŸ‡°ğŸ‡·">ğŸ‡°ğŸ‡·</option>
                    <option value="ğŸ‡ºğŸ‡¸">ğŸ‡ºğŸ‡¸</option>
                    <option value="ğŸ‡¯ğŸ‡µ">ğŸ‡¯ğŸ‡µ</option>
                    <option value="ğŸ‡¨ğŸ‡³">ğŸ‡¨ğŸ‡³</option>
                    <option value="ğŸ‡¬ğŸ‡§">ğŸ‡¬ğŸ‡§</option>
                    <option value="ğŸ‡«ğŸ‡·">ğŸ‡«ğŸ‡·</option>
                    <option value="ğŸ‡©ğŸ‡ª">ğŸ‡©ğŸ‡ª</option>
                    <option value="ğŸ‡®ğŸ‡¹">ğŸ‡®ğŸ‡¹</option>
                    <option value="ğŸ‡ªğŸ‡¸">ğŸ‡ªğŸ‡¸</option>
                    <option value="ğŸ‡¨ğŸ‡¦">ğŸ‡¨ğŸ‡¦</option>
                    <option value="ğŸ‡§ğŸ‡·">ğŸ‡§ğŸ‡·</option>
                    <option value="ğŸ‡¦ğŸ‡·">ğŸ‡¦ğŸ‡·</option>
                    <option value="ğŸ‡¦ğŸ‡º">ğŸ‡¦ğŸ‡º</option>
                    <option value="ğŸ‡®ğŸ‡³">ğŸ‡®ğŸ‡³</option>
                    <option value="ğŸ‡»ğŸ‡³">ğŸ‡»ğŸ‡³</option>
                    <option value="ğŸ‡¹ğŸ‡­">ğŸ‡¹ğŸ‡­</option>
                    <option value="ğŸ‡®ğŸ‡©">ğŸ‡®ğŸ‡©</option>
                    <option value="ğŸ‡·ğŸ‡º">ğŸ‡·ğŸ‡º</option>
                    <option value="ğŸ‡ºğŸ‡¦">ğŸ‡ºğŸ‡¦</option>
                    <option value="ğŸ‡¹ğŸ‡·">ğŸ‡¹ğŸ‡·</option>
                    <option value="ğŸ‡¸ğŸ‡¦">ğŸ‡¸ğŸ‡¦</option>
                    <option value="ğŸ‡¿ğŸ‡¦">ğŸ‡¿ğŸ‡¦</option>
                    <option value="ğŸ‡ªğŸ‡¬">ğŸ‡ªğŸ‡¬</option>
                    <option value="ğŸŒ">ğŸŒ</option>
                </select>
                <input type="text" id="success-nickname" placeholder="ë‹‰ë„¤ì„ (5ì ì´ë‚´)" maxlength="5" style="flex-grow: 1;">
            </div>
            <textarea id="success-thoughts" placeholder="ì„±ê³µ ì†Œê°ì„ ì…ë ¥í•´ì£¼ì„¸ìš” (20ì ì´ë‚´)..." rows="4" maxlength="20"></textarea>
            <div class="modal-buttons">
                <button id="save-record-btn">ê¸°ë¡ ì €ì¥ & ë‹«ê¸°</button>
                <button id="share-btn" style="background-color: #007bff;">ê³µìœ í•˜ê¸°</button>
                <button id="close-modal-btn" style="background-color: #888;">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>